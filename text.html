<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="title">
        <h1>Rock Paper Scissors</h1>
    </div>
    <div id="container">
        <div class="buttons">
            <button id="Rock"><img src="images/rocK.jpeg"></button>
            <button id="Paper"><img src="images/paper.jpeg"></button>
            <button id="Scissors"><img src="images/scissors.jpeg"></button>
        </div>
    </div>
    <div id="results">
    </div>
    <div class="footer">Made by CoDinAIy</div>
</body>
</html>

<script>

let computerScore = 0;
let playerScore = 0;

const container = document.querySelector("#results") ;

const score = document.createElement("div") ;
score.classList.add("score") ;
score.textContent = `Score = ${computerScore} : ${playerScore}`
container.appendChild(score) ;

const gameResult = document.createElement("div") ;
gameResult.classList.add("roundResult") ;
gameResult.textContent = `Click on one of the 3 buttons to play a 5 round game with the computer!`
container.appendChild(gameResult) ;

function wholeGame(e) {
    let randomSelection ; 
    let computerSelection = getComputerChoice() ;
    let playerSelection = e.target.id ;
    let roundResult = round(computerSelection, playerSelection)

    if (computerScore === 5) {
        gameResult.textContent = `Game Over. Computer wins ${computerScore} : ${playerScore}`
        computerScore = 0
        playerScore = 0
        score.textContent = `Score = ${playerScore} : ${computerScore}`
    } else if (playerScore === 5) {
        gameResult.textContent = `Game Over. You win ${playerScore} : ${computerScore}` 
        computerScore = 0
        playerScore = 0
        score.textContent = `Score = ${playerScore} : ${computerScore}`
    } else {
        return roundResult
    }
     


    function getComputerChoice() {
        const computerChoices = ["Rock", "Paper", "Scissors"] ;
        randomSelection = computerChoices[Math.floor(Math.random() * computerChoices.length)] ;
        return randomSelection ;
    }

    function round(computerSelection, playerSelection) {
        if (computerSelection === "Rock") {
            if (playerSelection === "Rock") {
                gameResult.textContent = "Computer chose Rock. Draw!" ;
                score.textContent = `Score = ${playerScore} : ${computerScore}` ;
            } else if (playerSelection === "Paper") {
                gameResult.textContent = "Computer chose Rock. You Win!" ;
                score.textContent = `Score = ${playerScore += 1} : ${computerScore}` ;
            } else if (playerSelection === "Scissors") {
                gameResult.textContent = "Computer chose Rock. You Lose!" ;
                score.textContent = `Score = ${playerScore} : ${computerScore += 1}` ;
            }
        } else if (computerSelection === "Paper") {
            if (playerSelection === "Rock") {
                gameResult.textContent = "Computer chose Paper. You Lose!" ;
                score.textContent = `Score = ${playerScore} : ${computerScore += 1}` ;
            } else if (playerSelection === "Paper") {
                gameResult.textContent = "Computer chose Paper. Draw!" ;
                score.textContent = `Score = ${playerScore} : ${computerScore}` ;
            } else if (playerSelection === "Scissors") {
                gameResult.textContent = "Computer chose Paper. You Win!" ;
                score.textContent = `Score = ${playerScore += 1} : ${computerScore}` ;
            }  
        } else if (computerSelection === "Scissors") {
            if (playerSelection === "Rock") {
                gameResult.textContent = "Computer chose Scissors. You Win!" ;
                score.textContent = `Score = ${playerScore += 1} : ${computerScore}` ;
            } else if (playerSelection === "Paper") {
                gameResult.textContent = "Computer chose Paper. You Lose!" ;
                score.textContent = `Score = ${playerScore} : ${computerScore += 1}` ;
            } else if (playerSelection === "Scissors") {
                gameResult.textContent = "Computer chose Scissors. Draw!" ;
                score.textContent = `Score = ${playerScore} : ${computerScore}` ;
            } 
        } 
    } 
}



const buttons = document.querySelectorAll("button") ;
buttons.forEach((button) => {
button.addEventListener("click", wholeGame) ;
})

</script>